{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst elements = {\n    input: document.querySelector(\"#datetime-picker\"),\n    button: document.querySelector(\"button[data-start]\"),\n    day: document.querySelector(\"span[data-days]\"),\n    hour: document.querySelector(\"span[data-hours]\"),\n    minute: document.querySelector(\"span[data-minutes]\"),\n    second: document.querySelector(\"span[data-seconds]\")\n}\nlet userSelectedDate;\nelements.button.disabled = true;\n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n        const currentTime = Date.now();\n        if (selectedDates[0] <= currentTime) {\n            iziToast.show(iziToastOptions);\n            elements.button.disabled = true;\n        } else {\n            elements.button.disabled = false;\n            userSelectedDate = selectedDates[0];\n        }\n        return;\n    },\n};\nconst iziToastOptions = {\n    title: 'âœ–',\n    titleColor: '#FFFFFF',\n    titleSize: '24px',\n    message: 'Please choose a date in the future',\n    messageColor: '#FFFFFF',\n    messageSize: '16px',\n    backgroundColor: '#B51B1B',\n    timeout: 4000,\n    overlay: true,\n    overlayClose: true,\n    position: 'topCenter',\n};\n\nfunction updateClock({ days, hours, minutes, seconds }) {\n    elements.day.textContent = `${days}`\n    elements.hour.textContent = `${hours}`\n    elements.minute.textContent = `${minutes}`\n    elements.second.textContent = `${seconds}`;\n}\n\nelements.button.addEventListener(\"click\", start);\n\nfunction start() {\n    const intervalId = setInterval(() => {\n        const currentTime = Date.now();\n        const countdown = userSelectedDate - currentTime;\n        if (countdown <= 0) {\n            clearInterval(intervalId);\n            elements.input.disabled = false;\n            elements.button.disabled = false;\n            return;\n        }\n        const { days, hours, minutes, seconds } = convertMs(countdown);\n        updateClock({ days, hours, minutes, seconds });\n        elements.input.disabled = true;\n        elements.button.disabled = true;\n    }, 1000);\n}\n\nfunction convertMs(ms) {\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n\n    const days = addLeadingZero(Math.floor(ms / day));\n    const hours = addLeadingZero(Math.floor((ms % day) / hour));\n    const minutes = addLeadingZero(Math.floor(((ms % day) % hour) / minute));\n    const seconds = addLeadingZero(Math.floor((((ms % day) % hour) % minute) / second));\n\n    return { days, hours, minutes, seconds };\n}\n\nfunction addLeadingZero(value) {\n    return String(value).padStart(2, \"0\")\n}\n\n\nflatpickr(\"#datetime-picker\", options);"],"names":["elements","userSelectedDate","options","selectedDates","currentTime","iziToast","iziToastOptions","updateClock","days","hours","minutes","seconds","start","intervalId","countdown","convertMs","ms","addLeadingZero","value","flatpickr"],"mappings":"2FAMA,MAAMA,EAAW,CACb,MAAO,SAAS,cAAc,kBAAkB,EAChD,OAAQ,SAAS,cAAc,oBAAoB,EACnD,IAAK,SAAS,cAAc,iBAAiB,EAC7C,KAAM,SAAS,cAAc,kBAAkB,EAC/C,OAAQ,SAAS,cAAc,oBAAoB,EACnD,OAAQ,SAAS,cAAc,oBAAoB,CACvD,EACA,IAAIC,EACJD,EAAS,OAAO,SAAW,GAE3B,MAAME,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACnB,MAAMC,EAAc,KAAK,MACrBD,EAAc,CAAC,GAAKC,GACpBC,EAAS,KAAKC,CAAe,EAC7BN,EAAS,OAAO,SAAW,KAE3BA,EAAS,OAAO,SAAW,GAC3BC,EAAmBE,EAAc,CAAC,EAGzC,CACL,EACMG,EAAkB,CACpB,MAAO,IACP,WAAY,UACZ,UAAW,OACX,QAAS,qCACT,aAAc,UACd,YAAa,OACb,gBAAiB,UACjB,QAAS,IACT,QAAS,GACT,aAAc,GACd,SAAU,WACd,EAEA,SAASC,EAAY,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,EAAI,CACpDX,EAAS,IAAI,YAAc,GAAGQ,CAAI,GAClCR,EAAS,KAAK,YAAc,GAAGS,CAAK,GACpCT,EAAS,OAAO,YAAc,GAAGU,CAAO,GACxCV,EAAS,OAAO,YAAc,GAAGW,CAAO,EAC5C,CAEAX,EAAS,OAAO,iBAAiB,QAASY,CAAK,EAE/C,SAASA,GAAQ,CACb,MAAMC,EAAa,YAAY,IAAM,CACjC,MAAMT,EAAc,KAAK,MACnBU,EAAYb,EAAmBG,EACrC,GAAIU,GAAa,EAAG,CAChB,cAAcD,CAAU,EACxBb,EAAS,MAAM,SAAW,GAC1BA,EAAS,OAAO,SAAW,GAC3B,MACH,CACD,KAAM,CAAE,KAAAQ,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYI,EAAUD,CAAS,EAC7DP,EAAY,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAS,CAAA,EAC7CX,EAAS,MAAM,SAAW,GAC1BA,EAAS,OAAO,SAAW,EAC9B,EAAE,GAAI,CACX,CAEA,SAASe,EAAUC,EAAI,CAMnB,MAAMR,EAAOS,EAAe,KAAK,MAAMD,EAAK,KAAG,CAAC,EAC1CP,EAAQQ,EAAe,KAAK,MAAOD,EAAK,MAAO,IAAI,CAAC,EACpDN,EAAUO,EAAe,KAAK,MAAQD,EAAK,MAAO,KAAQ,GAAM,CAAC,EACjEL,EAAUM,EAAe,KAAK,MAASD,EAAK,MAAO,KAAQ,IAAU,GAAM,CAAC,EAElF,MAAO,CAAE,KAAAR,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CAC1C,CAEA,SAASM,EAAeC,EAAO,CAC3B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACxC,CAGAC,EAAU,mBAAoBjB,CAAO"}